$((function(){$(document).ready((function(){$("#add_complaint").submit((function(a){a.preventDefault();var t=new FormData(this);$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"post",url:"http://192.168.0.3/wbs/complaint/store",data:t,dataType:"json",contentType:!1,processData:!1,beforeSend:function(a){$("#complaint_submit_button").attr("disabled","disabled")},success:function(a){400==a.code?($("#add_complaint_error_message").html(""),$("#add_complaint_error_message").addClass("alert-error"),$("#add_complaint_error_message").addClass("mt-3"),$.each(a.message,(function(a,t){$("#add_complaint_error_message").append('<span><i class="bi bi-x"></i> '+t+"</span><br>")})),$("html, body").animate({scrollTop:$("#main").offset().top},50)):Swal.fire({title:"Sukses",text:"Terimakasih Telah Melakukan Laporan",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1}).then((t=>{Swal.fire({title:"Simpan Nomor Pengaduan Anda",text:a.ticket,icon:"info",allowOutsideClick:!1,allowEscapeKey:!1}).then((a=>{location.reload()}))})),$("#complaint_submit_button").removeAttr("disabled","disabled")},error:function(a){Swal.fire({title:"Ooops",text:"Ada Kesalahan, Silahkan hubungi Pihak RSUD Kota Bogor",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}).then((a=>{location.reload()}))}})})),$("#search_complaint").submit((function(a){a.preventDefault();var t=$("#complaint_ticket").val();$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"get",url:"http://192.168.0.3/wbs/complaint/search/show",data:{complaint:t},dataType:"json",beforeSend:function(a){$("#search_complaint_button").attr("disabled","disabled")},success:function(a){$("#search_result").html(""),$("#search_result").html(a.complaint),$("#search_complaint_button").removeAttr("disabled")},error:function(a){Swal.fire({title:"Ooops",text:"Ada Kesalahan, Silahkan hubungi Pihak RSUD Kota Bogor",icon:"error",allowOutsideClick:!1,allowEscapeKey:!1}).then((a=>{location.reload()}))}})})),$("#province").on("change",(function(){var a=this.value;$.ajax({type:"get",url:"http://192.168.0.3/wbs/get-regency",data:{data:a},dataType:"json",success:function(a){$("#regency").html('<option value="">-- Pilih Kabupaten --</option>'),$.each(a,(function(a,t){$("#regency").append('<option value="'+t.ID+'">'+t.NAMA+"</option>")}))}})})),$("#regency").on("change",(function(){var a=this.value;$.ajax({type:"get",url:"http://192.168.0.3/wbs/get-district",data:{data:a},dataType:"json",success:function(a){$("#district").html('<option value="">-- Pilih Kecamatan --</option>'),$.each(a,(function(a,t){$("#district").append('<option value="'+t.ID+'">'+t.NAMA+"</option>")}))}})})),$("#district").on("change",(function(){var a=this.value;$.ajax({type:"get",url:"http://192.168.0.3/wbs/get-village",data:{data:a},dataType:"json",success:function(a){$("#village").html('<option value="">-- Pilih Kelurahan --</option>'),$.each(a,(function(a,t){$("#village").append('<option value="'+t.ID+'">'+t.NAMA+"</option>")}))}})}))}))}));
